<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cadastro - PAC√çFICOS BET</title>

<style>
body{
    background: linear-gradient(135deg,#111,#1b1b3a);
    color:white;
    font-family:Arial;
    text-align:center;
    margin:0;
}

.container{
    background:#000000aa;
    width:320px;
    margin:40px auto;
    padding:25px;
    border-radius:10px;
}

input{
    width:90%;
    padding:10px;
    border-radius:6px;
    border:none;
    margin-top:8px;
}

button{
    background:#ffcc00;
    color:black;
    padding:10px;
    width:95%;
    border:none;
    border-radius:8px;
    font-weight:bold;
    margin-top:15px;
    cursor:pointer;
}

button:hover{
    opacity:0.8;
}

.msg{
    margin-top:10px;
    font-weight:bold;
}
</style>
</head>

<body>

<h1>üî• Cadastro PAC√çFICOS BET üî•</h1>

<div class="container">

    <input id="nome" placeholder="Nome completo">
    <input id="email" type="email" placeholder="Email">
    <input id="senha" type="password" placeholder="Senha">
    <input id="confirmar" type="password" placeholder="Confirmar senha">

    <input type="date" id="nascimento" style="width:95%; margin-top:10px;">

    <br><br>

    <label>
        <input type="checkbox" id="termos">
        Aceito os termos do site
    </label>

    <button onclick="cadastrar()">Cadastrar</button>

    <p class="msg" id="msg"></p>

</div>

<script>
function calcularIdade(dataNasc){
    const hoje = new Date();
    const nasc = new Date(dataNasc);

    let idade = hoje.getFullYear() - nasc.getFullYear();
    const mes = hoje.getMonth() - nasc.getMonth();

    if (mes < 0 || (mes === 0 && hoje.getDate() < nasc.getDate())) {
        idade--;
    }
    return idade;
}

function cadastrar(){

    let nome = nome.value.trim();
    let email = email.value.trim();
    let senha = senha.value;
    let confirmar = confirmar.value;
    let nascimento = document.getElementById("nascimento").value;
    let termos = termos.checked;
    let msg = document.getElementById("msg");

    if(!nome || !email || !senha || !confirmar || !nascimento){
        msg.innerText = "‚ö†Ô∏è Preencha todos os campos!";
        msg.style.color = "orange";
        return;
    }

    if(senha.length < 6){
        msg.innerText = "‚ö†Ô∏è A senha precisa ter pelo menos 6 caracteres!";
        msg.style.color = "orange";
        return;
    }

    if(senha !== confirmar){
        msg.innerText = "‚ùå As senhas n√£o coincidem!";
        msg.style.color = "red";
        return;
    }

    if(calcularIdade(nascimento) < 18){
        msg.innerText = "üö´ Voc√™ precisa ter pelo menos 18 anos!";
        msg.style.color = "red";
        return;
    }

    if(!termos){
        msg.innerText = "‚ö†Ô∏è Aceite os termos!";
        msg.style.color = "orange";
        return;
    }

    let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];

    if(usuarios.some(u => u.email === email)){
        msg.innerText = "‚ùå Email j√° cadastrado!";
        msg.style.color = "red";
        return;
    }

    usuarios.push({
        nome,
        email,
        senha,
        nascimento,
        saldo: 0
    });

    localStorage.setItem("usuarios", JSON.stringify(usuarios));

    msg.innerText = "‚úÖ Cadastro realizado com sucesso!";
    msg.style.color = "lightgreen";

    setTimeout(()=>location.href="login.html",1500);
}
</script>

</body>
</html>
