<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel do Usu√°rio - PAC√çFICOS BET</title>

<style>
body{
    margin:0;
    font-family: Arial;
    background:#0b0b1c;
    color:white;
}

/* LAYOUT */
.container{
    display:flex;
}

/* MENU LATERAL */
.menu{
    width:260px;
    background:#000;
    height:100vh;
    padding:20px;
    box-sizing:border-box;
}

.menu h2{
    color:#ffcc00;
    text-align:center;
}

.menu button{
    width:100%;
    padding:12px;
    margin-top:8px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
    background:#1b1b3a;
    color:white;
}

.menu button:hover{
    background:#ffcc00;
    color:black;
}

.logout{
    background:red !important;
}

/* CONTE√öDO */
.content{
    flex:1;
    padding:20px;
}

/* CARDS */
.cards{
    display:flex;
    gap:15px;
    flex-wrap:wrap;
}

.card{
    background:white;
    color:black;
    padding:20px;
    border-radius:10px;
    width:220px;
}

.card h3{
    margin-top:0;
}

/* TABELAS */
table{
    width:100%;
    border-collapse:collapse;
    margin-top:15px;
}

th,td{
    border:1px solid #555;
    padding:8px;
    text-align:center;
}

th{
    background:#ffcc00;
    color:black;
}

/* OCULTAR P√ÅGINAS */
.page{
    display:none;
}

.page.active{
    display:block;
}

/* BOT√ïES */
.action{
    background:#ffcc00;
    color:black;
    border:none;
    padding:8px 14px;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
}

.action:hover{
    background:black;
    color:#ffcc00;
}

/* MODAL DEP√ìSITO */
.modal{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:#000000b8;
    display:none;
    justify-content:center;
    align-items:center;
}

.modal-content{
    background:white;
    color:black;
    padding:20px;
    border-radius:10px;
    width:300px;
    text-align:center;
}
.modal-content input{
    width:90%;
    padding:8px;
    margin-top:10px;
}
</style>
</head>

<body>

<div class="container">

    <div class="menu">
        <h2>üé∞ PAC√çFICOS BET</h2>

        <button onclick="showPage('dashboard')">üè† Dashboard</button>
        <button onclick="showPage('carteira')">üí∞ Carteira</button>
        <button onclick="showPage('apostas')">üìú Minhas Apostas</button>
        <button onclick="showPage('perfil')">üë§ Perfil</button>
        <button onclick="showPage('seguranca')">üõ° Seguran√ßa</button>
        <button onclick="sair()" class="logout">üö™ Sair</button>
    </div>

    <div class="content">

        <!-- DASHBOARD -->
        <div id="dashboard" class="page active">
            <h1>Bem-vindo ao seu painel</h1>

            <h3 id="nomeUsuario"></h3>

            <div class="cards">
                <div class="card">
                    <h3>Saldo</h3>
                    <p id="saldo">R$ 0,00</p>
                    <button class="action" onclick="abrirDeposito()">Depositar</button>
                    <button class="action" onclick="alert('Solicita√ß√£o de saque em breve')">Sacar</button>
                </div>

                <div class="card">
                    <h3>Estat√≠sticas</h3>
                    <p>Apostas Hoje: 0</p>
                    <p>Ganhos Totais: R$ 0,00</p>
                    <p>Perdas Totais: R$ 0,00</p>
                </div>

                <div class="card">
                    <h3>√öltima atividade</h3>
                    <p id="ultimaAtividade">Nenhuma ainda...</p>
                </div>
            </div>
        </div>

        <!-- CARTEIRA -->
        <div id="carteira" class="page">
            <h1>üí∞ Carteira</h1>

            <h2>Saldo Atual: <span id="saldo2">R$ 0,00</span></h2>

            <button class="action" onclick="abrirDeposito()">Depositar</button>
            <button class="action" onclick="alert('Solicitar saque em breve')">Solicitar Saque</button>

            <h3>Hist√≥rico Financeiro</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Valor</th>
                        <th>Data</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="historicoTabela">
                    <tr>
                        <td colspan="4">Nenhuma movimenta√ß√£o</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- APOSTAS -->
        <div id="apostas" class="page">
            <h1>üìú Minhas Apostas</h1>

            <table>
                <tr>
                    <th>Data</th>
                    <th>Jogo</th>
                    <th>Valor</th>
                    <th>Resultado</th>
                </tr>
                <tr>
                    <td>--</td>
                    <td>--</td>
                    <td>--</td>
                    <td>--</td>
                </tr>
            </table>
        </div>

        <!-- PERFIL -->
        <div id="perfil" class="page">
            <h1>üë§ Meu Perfil</h1>

            <p><b>Nome:</b> <span id="perfilNome"></span></p>
            <p><b>Email:</b> <span id="perfilEmail"></span></p>
            <p><b>Telefone:</b> <span id="perfilTel"></span></p>
            <p><b>Data de Nascimento:</b> <span id="perfilNasc"></span></p>
        </div>

        <!-- SEGURAN√áA -->
        <div id="seguranca" class="page">
            <h1>üõ° Seguran√ßa</h1>

            <button class="action" onclick="alert('Troca de senha em breve')">Trocar senha</button>
            <button class="action" onclick="alert('Fun√ß√£o futura')">Ver logins recentes</button>
            <button class="action" onclick="sair()">Sair de todos dispositivos</button>
        </div>

    </div>
</div>

<!-- MODAL DEP√ìSITO -->
<div class="modal" id="modalDeposito">
    <div class="modal-content">
        <h3>Dep√≥sito via PIX</h3>
        <p>Digite o valor:</p>
        <input type="number" id="valorDeposito" placeholder="Ex: 50">
        <br><br>
        <button onclick="fazerDeposito()">Confirmar</button>
        <button onclick="fecharDeposito()">Cancelar</button>
    </div>
</div>

<script>
// PROTEGER P√ÅGINA
let logado = localStorage.getItem("logged");
if(logado !== "true"){
    window.location.href = "login.html";
}

// CARREGAR USU√ÅRIO
let usuario = JSON.parse(localStorage.getItem("usuarioLogado"));

document.getElementById("nomeUsuario").innerText = usuario.nome;
document.getElementById("perfilNome").innerText = usuario.nome;
document.getElementById("perfilEmail").innerText = usuario.email;
document.getElementById("perfilTel").innerText = usuario.telefone || "‚Äî";
document.getElementById("perfilNasc").innerText = usuario.nascimento || "‚Äî";

// SALDO
let saldo = parseFloat(localStorage.getItem("saldo")) || 0;
atualizarSaldo();

// HIST√ìRICO
let historico = JSON.parse(localStorage.getItem("historico")) || [];
carregarHistorico();

// TROCAR P√ÅGINA
function showPage(id){
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

// LOGOUT
function sair(){
    localStorage.removeItem("logged");
    localStorage.removeItem("usuarioLogado");
    window.location.href = "login.html";
}

/* ===== DEP√ìSITO ===== */
function abrirDeposito(){
    document.getElementById("modalDeposito").style.display="flex";
}

function fecharDeposito(){
    document.getElementById("modalDeposito").style.display="none";
}

function fazerDeposito(){
    let valor = parseFloat(document.getElementById("valorDeposito").value);

    if(!valor || valor <= 0){
        alert("Digite um valor v√°lido");
        return;
    }

    saldo += valor;
    localStorage.setItem("saldo", saldo);

    historico.push({
        tipo:"Dep√≥sito",
        valor:valor,
        data:new Date().toLocaleString(),
        status:"Aprovado"
    });

    localStorage.setItem("historico", JSON.stringify(historico));

    atualizarSaldo();
    carregarHistorico();

    document.getElementById("ultimaAtividade").innerText = "Dep√≥sito de R$ " + valor.toFixed(2);
    fecharDeposito();
    alert("Dep√≥sito realizado com sucesso!");
}

function atualizarSaldo(){
    document.getElementById("saldo").innerText = "R$ " + saldo.toFixed(2);
    document.getElementById("saldo2").innerText = "R$ " + saldo.toFixed(2);
}

function carregarHistorico(){
    const tabela = document.getElementById("historicoTabela");
    tabela.innerHTML = "";

    if(historico.length === 0){
        tabela.innerHTML = `<tr><td colspan="4">Nenhuma movimenta√ß√£o</td></tr>`;
        return;
    }

    historico.forEach(item=>{
        let tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${item.tipo}</td>
            <td>R$ ${item.valor.toFixed(2)}</td>
            <td>${item.data}</td>
            <td>${item.status}</td>
        `;
        tabela.appendChild(tr);
    });
}
</script>

</body>
</html>
